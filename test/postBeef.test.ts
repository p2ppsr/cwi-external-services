import { Beef } from "@babbage/sdk-ts"
import { CwiExternalServices } from "../src"

describe('postBeef tests', () => {
    jest.setTimeout(99999999)

    test('0_postBeef', async () => {
        
        const beef = new Beef()
        beef.mergeBeef(Beef.fromString(beefs[0]))
        beef.mergeBeef(Beef.fromString(beefs[1]))
        const beefBin = beef.toBinary()

        expect(beef.isValid()).toBe(true)

        const s = new CwiExternalServices()

        const pr = await s.postBeef(beefBin, 'test')
        expect(pr).toBeTruthy()
        
    })
})

const beefs: string[] = [
    '0100beef01fe6ce518000302040262ff42598c437f9c78736040627ba867696af9e8acfe1cf311c93341d3a4709d0500f552f76390de73c82164c85e79d75cbc4976b34a94a977501a82af3c979e3bb10103004107be28e568f588dedc32000354ed0cf4031b2f0f3aec36e6fd5834aa0abc35010000ed0d2b93e279392bf19b04fdb14b3128bb2cb8d38b4f5101c617e62e80d98a5d020100000001bd35130caed8458b240b41ad592097b1d3b6fe2ec7ca5c2acfadf1f9cae4b473020000006a4730440220036e639bd3b2fecd05cd1ea3b1e1b2a4d6ec4825e866e443e63dab2797a430f10220206f15d40caf05f7fdffca39541b6bbb6b74650a31a645b3ebef7948a10dc3c4412103bfa8d9130317831bb56f0f74299e94d9dad113d0c4edd2f4668aa83b0a339211ffffffff03e803000000000000c321029b09fdddfae493e309d3d97b919f6ab2902a789158f6f78489ad903b7a14baeaac2131546f446f44744b7265457a6248594b466a6d6f42756475466d53585855475a47332bb04a2e73d662b0deef67a5c30cab13a3dc20dd67a7a2b52a660cd5749638983c646ce1067d8862b392003799f1485fe65273473045022100e4ae6745109b966442b097036eb3739bf2b706d752f64652766ab6920bc6e4b7022003dbdab40456cad0d030b165996be926898e7e2c2ab3de8769431fc1629f33a76d7502000000000000001976a91496a9a130be2f30e8d515256479d89460f800d6b088acb00f0000000000001976a914e3cf7f2a2d0847cb97f84c827158fb26606a2e6a88ac000000000100010000000162ff42598c437f9c78736040627ba867696af9e8acfe1cf311c93341d3a4709d020000006b48304502210099621aba90c20b7c20d5da0d0f503f22f2d5035a130dba89b1023bc7fae14daa0220064a7bc7b8d9c6c69c381ab8098238b4afde635b62015a2045afd2ff5b9650f44121029bd969d347b60c540cd73802641f5d71ade52746f95e794c540e6fa75ee1984effffffff03b706000000000000fdc20421029b09fdddfae493e309d3d97b919f6ab2902a789158f6f78489ad903b7a14baeaac2131546f446f44744b7265457a6248594b466a6d6f42756475466d53585855475a474d30041cfd7011ab429889ddb2e389c0a3d2c1c62b4f6ea927c597cf5ad0855d942a8e9586c4090b42d84d52c9a813593859befddb980d03b3cc1a6041ff5ee3c3d290ad42279300af4502e39f4d1e80bbaffac3cad036120c38e79c1af5825cd395777e4a748e6d0996f254beb7f618c14815cd3407639f3110f3b8e5c30a2db42354f5940d477961cbc8d7fb55e289e0c8b8834bea56f85eaadca0bb2f14362bd331fcac67eaa5e08b8352b9848c7747708b51f0539a9fa9be4e62af38e8e764e88f93f5d70bcc14ca27b081e24de594693b9bcb044febdd3200c35ad6dbe36c24ad092719847305baaae4da2ac6d4875f21ea5b8ddabce6bb0bd7cda066ea96f8b1e907dafe178e44cc6f6e07a2ea8b532591627667f032712c21e4705d0f535d48f8f0f18500aa48e7413b9b26f200ef626cd4dcd15290c25af487cf190c23250b04d6d6ef874ecba93aa7af980c372281c9e3abb83c5a9fba0ff36ca63eb2e94c2d8f8ab99ee0f749c52d2f1863d3f94aa3da9b17bfada04b76c0991a9019c19d586bf8f2534a6495c8446b7089819ee7e0bd87e8ab464b3c9fed3f64e6c27ab053f20f8ea3c54fc26675577a264f27a16b3e2ab7c31dbd9abf27058569be6759dfe5e58140234009e326333a981dd26aa95c56690456afb816ec0b9672b9cd8982d6f5b35928e6812639849d1c211dfd643df31919dd22d5f7402198e97c82aa743482c982413e3fef65b90b96a4df27d19a6191903c50a6492b51d64f5512c76c4beb87cd7775cf4425958e13f4ed19f7a991499abbe6f36506674510490c71f3710151ad94d16fd0704dc2112bb37404d0de79de23d395409a1abb93e6e0a295322ba066927aadb3d5c1aa8879032f53b72fe9fcd4ec330200392c7d47a950bb1e2535fc71a432ba9c3a79407ea232dd9b2862cf3ed3c99dcedd5a2a146f76730fb178f2d0bda7865c84665e583d76e381885f00f59b5edc6ff0dc34a5529d86cb0795781545a9df9c746bf38ed830630225be33b0e58834843fa495922c67af65809b97a8b92a4ffe929c8c8cbeb6cefb53e48f6b31232235575825d73e44ba5119b391cb049ec076e6b58b7d3a2d5909b7f5d34e1bcd52c50bbd60c823f69cc5bd469697f42590ce896cc29fd7089702d54d3ee674b30d6635cec266bde841f949e1218b8ec5df9e4380592c0200d3ac0ea07a648e5d4d5a86746e623125a864672fecadcb3df282bdc7a782e80037fd5b46dad8c6707ba93583aa7e2e4d4ebd1ab3da8df6b0c52e4663424fa81883d75e27e4f42d53a0ccc66b781e2975d03804df6d870120ac056d6adeeb5ebb1f0fd0526c92faa6ce062d8d532b1684dcb4a8ad951f7d186f0db222c16289551feadb228a4df70ae50f0c12e25be6212e0c44645f4c27f2d4639b8bee9c5853375e6c8ff13d856f4fc2479790e8177235286aff35b10253fb927fe0bd019662986ea54d1268f9e1f2a28aec082a634c45f061fe2d9aa255579f1b1b726d4d92473045022100f4ce767385fc47be02f7aa1ad9f3e5c19ce9da93bf2ed15a5c99a82a5e0065d002201dee90efa35535885342b2662e56923fbdf46b7af501b0f4452467e94fb447736d75c8000000000000001976a914ab6feb5bf6816badd7b469c0c5e5e8e05f58337f88ac90070000000000001976a914f275df3b4cf4413955592bd6452a64603ac36d8a88ac0000000000',
    '0100beef01fe6ce518000302040262ff42598c437f9c78736040627ba867696af9e8acfe1cf311c93341d3a4709d0500f552f76390de73c82164c85e79d75cbc4976b34a94a977501a82af3c979e3bb10103004107be28e568f588dedc32000354ed0cf4031b2f0f3aec36e6fd5834aa0abc35010000ed0d2b93e279392bf19b04fdb14b3128bb2cb8d38b4f5101c617e62e80d98a5d030100000001bd35130caed8458b240b41ad592097b1d3b6fe2ec7ca5c2acfadf1f9cae4b473020000006a4730440220036e639bd3b2fecd05cd1ea3b1e1b2a4d6ec4825e866e443e63dab2797a430f10220206f15d40caf05f7fdffca39541b6bbb6b74650a31a645b3ebef7948a10dc3c4412103bfa8d9130317831bb56f0f74299e94d9dad113d0c4edd2f4668aa83b0a339211ffffffff03e803000000000000c321029b09fdddfae493e309d3d97b919f6ab2902a789158f6f78489ad903b7a14baeaac2131546f446f44744b7265457a6248594b466a6d6f42756475466d53585855475a47332bb04a2e73d662b0deef67a5c30cab13a3dc20dd67a7a2b52a660cd5749638983c646ce1067d8862b392003799f1485fe65273473045022100e4ae6745109b966442b097036eb3739bf2b706d752f64652766ab6920bc6e4b7022003dbdab40456cad0d030b165996be926898e7e2c2ab3de8769431fc1629f33a76d7502000000000000001976a91496a9a130be2f30e8d515256479d89460f800d6b088acb00f0000000000001976a914e3cf7f2a2d0847cb97f84c827158fb26606a2e6a88ac000000000100010000000162ff42598c437f9c78736040627ba867696af9e8acfe1cf311c93341d3a4709d020000006b48304502210099621aba90c20b7c20d5da0d0f503f22f2d5035a130dba89b1023bc7fae14daa0220064a7bc7b8d9c6c69c381ab8098238b4afde635b62015a2045afd2ff5b9650f44121029bd969d347b60c540cd73802641f5d71ade52746f95e794c540e6fa75ee1984effffffff03b706000000000000fdc20421029b09fdddfae493e309d3d97b919f6ab2902a789158f6f78489ad903b7a14baeaac2131546f446f44744b7265457a6248594b466a6d6f42756475466d53585855475a474d30041cfd7011ab429889ddb2e389c0a3d2c1c62b4f6ea927c597cf5ad0855d942a8e9586c4090b42d84d52c9a813593859befddb980d03b3cc1a6041ff5ee3c3d290ad42279300af4502e39f4d1e80bbaffac3cad036120c38e79c1af5825cd395777e4a748e6d0996f254beb7f618c14815cd3407639f3110f3b8e5c30a2db42354f5940d477961cbc8d7fb55e289e0c8b8834bea56f85eaadca0bb2f14362bd331fcac67eaa5e08b8352b9848c7747708b51f0539a9fa9be4e62af38e8e764e88f93f5d70bcc14ca27b081e24de594693b9bcb044febdd3200c35ad6dbe36c24ad092719847305baaae4da2ac6d4875f21ea5b8ddabce6bb0bd7cda066ea96f8b1e907dafe178e44cc6f6e07a2ea8b532591627667f032712c21e4705d0f535d48f8f0f18500aa48e7413b9b26f200ef626cd4dcd15290c25af487cf190c23250b04d6d6ef874ecba93aa7af980c372281c9e3abb83c5a9fba0ff36ca63eb2e94c2d8f8ab99ee0f749c52d2f1863d3f94aa3da9b17bfada04b76c0991a9019c19d586bf8f2534a6495c8446b7089819ee7e0bd87e8ab464b3c9fed3f64e6c27ab053f20f8ea3c54fc26675577a264f27a16b3e2ab7c31dbd9abf27058569be6759dfe5e58140234009e326333a981dd26aa95c56690456afb816ec0b9672b9cd8982d6f5b35928e6812639849d1c211dfd643df31919dd22d5f7402198e97c82aa743482c982413e3fef65b90b96a4df27d19a6191903c50a6492b51d64f5512c76c4beb87cd7775cf4425958e13f4ed19f7a991499abbe6f36506674510490c71f3710151ad94d16fd0704dc2112bb37404d0de79de23d395409a1abb93e6e0a295322ba066927aadb3d5c1aa8879032f53b72fe9fcd4ec330200392c7d47a950bb1e2535fc71a432ba9c3a79407ea232dd9b2862cf3ed3c99dcedd5a2a146f76730fb178f2d0bda7865c84665e583d76e381885f00f59b5edc6ff0dc34a5529d86cb0795781545a9df9c746bf38ed830630225be33b0e58834843fa495922c67af65809b97a8b92a4ffe929c8c8cbeb6cefb53e48f6b31232235575825d73e44ba5119b391cb049ec076e6b58b7d3a2d5909b7f5d34e1bcd52c50bbd60c823f69cc5bd469697f42590ce896cc29fd7089702d54d3ee674b30d6635cec266bde841f949e1218b8ec5df9e4380592c0200d3ac0ea07a648e5d4d5a86746e623125a864672fecadcb3df282bdc7a782e80037fd5b46dad8c6707ba93583aa7e2e4d4ebd1ab3da8df6b0c52e4663424fa81883d75e27e4f42d53a0ccc66b781e2975d03804df6d870120ac056d6adeeb5ebb1f0fd0526c92faa6ce062d8d532b1684dcb4a8ad951f7d186f0db222c16289551feadb228a4df70ae50f0c12e25be6212e0c44645f4c27f2d4639b8bee9c5853375e6c8ff13d856f4fc2479790e8177235286aff35b10253fb927fe0bd019662986ea54d1268f9e1f2a28aec082a634c45f061fe2d9aa255579f1b1b726d4d92473045022100f4ce767385fc47be02f7aa1ad9f3e5c19ce9da93bf2ed15a5c99a82a5e0065d002201dee90efa35535885342b2662e56923fbdf46b7af501b0f4452467e94fb447736d75c8000000000000001976a914ab6feb5bf6816badd7b469c0c5e5e8e05f58337f88ac90070000000000001976a914f275df3b4cf4413955592bd6452a64603ac36d8a88ac000000000001000000010bee5ac27ca4d5ccce58cb40dee77619cdf7287a3483d6fd7fbeffeb259b458900000000484730440220438ace9e548625892985c6fbf26ee62806a6178cfefeb9b90cfd8075e06dac5002206f1278ac01c831d11598c85796e0dca1f9e025c768a6b7af02e077f02f113517c2ffffffff02c8000000000000001976a914b2c1c60dc6679198d7db45eea8c1bd99dc3b5ba488acd9050000000000001976a914b1ac266ecc366fc75cb63a4065a945aa28fdebbe88ac0000000000'
]